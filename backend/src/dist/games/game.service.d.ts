import { Model } from 'mongoose';
import { UserDocument } from '@/users/user.schema';
import { MessagesService } from '@/messages/message.service';
import { ReplacementResult } from '@/types/interfaces';
import { GameDocument } from '@/games/game.schema';
import { CreateGameDto } from '@/games/dto/create-game-dto';
import { GameGateway } from '@/games/game.gateway';
import { Card } from '@/games/card/card.schema';
import { PhasePreparationService } from '@/games/phases/phase-preparation.service';
import { AiPhasePreparationService } from '@/games/ai/ai-phase-preparation.service';
import { AiPhaseTurnService } from '@/games/ai/ai-phase-turn.service';
import { PhaseTurnService } from '@/games/phases/phase-turn.service';
import { PhaseRoundEndService } from '@/games/phases/phase-round-end.service';
import { AiPhaseRoundEndService } from '@/games/ai/ai-phase-round-end.service';
import { PhaseGameEndService } from '@/games/phases/phase-game-end.service';
import { AiReplacementService } from '@/games/ai/ai-replacement.service';
export declare class GameService {
    private readonly gameModel;
    private readonly userModel;
    private readonly messagesService;
    private readonly gameGateway;
    private readonly aiPreparationService;
    private readonly preparationPhase;
    private readonly turnPhase;
    private readonly aiReplacementService;
    private readonly roundEndPhase;
    private readonly aiRoundEndPhase;
    private readonly gameEndPhase;
    private readonly aiPhaseTurnService;
    constructor(gameModel: Model<GameDocument>, userModel: Model<UserDocument>, messagesService: MessagesService, gameGateway: GameGateway, aiPreparationService: AiPhasePreparationService, preparationPhase: PhasePreparationService, turnPhase: PhaseTurnService, aiReplacementService: AiReplacementService, roundEndPhase: PhaseRoundEndService, aiRoundEndPhase: AiPhaseRoundEndService, gameEndPhase: PhaseGameEndService, aiPhaseTurnService: AiPhaseTurnService);
    createGame(createGameDto: CreateGameDto): Promise<GameDocument>;
    getAvailableGames(page?: number, pageSize?: number): Promise<any>;
    findGameByUser(owner: string): Promise<GameDocument>;
    findGameByName(gameName: string): Promise<GameDocument>;
    getCurrentGame(gameName: string): Promise<GameDocument>;
    joinGame(gameName: string, username: string): Promise<GameDocument>;
    private validateJoinGame;
    private giveCompensationCards;
    private addToPlayerCollection;
    private replaceAIWithPlayerLogic;
    replaceAIWithPlayer(gameName: string, originalAIName: string, newPlayerName: string): Promise<ReplacementResult>;
    joinGameWithAIReplacement(gameName: string, username: string): Promise<ReplacementResult>;
    getReplaceableAIs(gameName: string): Promise<string[]>;
    leaveGame(gameName: string, username: string): Promise<void>;
    private getPlayerCollection;
    private getPlayerWildCards;
    private handlePlayerLeaveInFinishedGame;
    private createAIReplacementForLeavingPlayer;
    private copyPlayerProgressToAI;
    private updatePlayersTakenColumnForReplacement;
    private determineStrategyForDifficulty;
    private cleanupPlayerCollections;
    private deleteGame;
    private emitPlayerLeftEvents;
    selectDifficultyAndPrepareGame(gameName: string, level: 'Basic' | 'Expert'): Promise<GameDocument>;
    prepareGame(gameName: string, level: string): Promise<GameDocument>;
    prepareAIGame(gameName: string, owner: string, numberOfAIPlayers: number, difficulty?: 'Basic' | 'Expert'): Promise<GameDocument>;
    createAIGameOnly(gameName: string, owner: string, numberOfAIPlayers: number, difficulty?: 'Basic' | 'Expert'): Promise<GameDocument>;
    getPreparationTimeRemaining(gameName: string): Promise<number>;
    executeAiTurn(gameName: string, aiPlayerName: string): Promise<any>;
    private findNextPlayerWithoutColumn;
    private haveAllPlayersTakenColumn;
    private updateGameFromActionResult;
    private findEndRoundCardInColumns;
    private emitEndRoundCardEvents;
    revealCard(gameName: string, playerName: string, columnIndex: number): Promise<{
        success: boolean;
        card?: Card;
        roundEnded?: boolean;
        keepTurn?: boolean;
        mustPassTurn?: boolean;
        goldenWildAdditionalCard?: Card;
        goldenWildEndRound?: boolean;
    }>;
    private emitRevealCardEvents;
    takeColumn(gameName: string, playerName: string, columnIndex: number): Promise<{
        success: boolean;
        takenCards?: Card[];
        wildCards?: Card[];
        normalCards?: Card[];
    } | {
        roundEnded: boolean;
        success: boolean;
        takenCards?: Card[];
        wildCards?: Card[];
        normalCards?: Card[];
    }>;
    private emitColumnTakenEvents;
    handleRoundEnd(gameName: string): Promise<any>;
    shouldEndRound(gameName: string): Promise<boolean>;
    private shouldEndGame;
    private emitRoundEndCompleteEvents;
    checkAndHandleRoundEnd(gameName: string): Promise<boolean>;
    finalizeAndCalculateScores(gameName: string): Promise<any>;
    private emitGameFinalizedEvents;
    private getAllPlayers;
}
